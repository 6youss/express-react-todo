(this["webpackJsonptodo-react"]=this["webpackJsonptodo-react"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(5),c=n.n(r),s=(n(12),n(6)),u=n(3),l=(n(13),n(1)),i=n.n(l),p=n(2),d="http://localhost:8000/api";function h(){return(h=Object(p.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d+"/todo",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function f(){return(f=Object(p.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d+"/todo",{method:"get"});case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function m(){return(m=Object(p.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d+"/todo/"+t,{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var b=function(){var e=o.a.useState(),t=Object(u.a)(e,2),n=t[0],a=t[1],r=o.a.useState([]),c=Object(u.a)(r,2),l=c[0],i=c[1];function p(e,t){return function(){(function(e,t){return m.apply(this,arguments)})(e,{done:!t}).then((function(e){var t=e.newTodo,n=l.map((function(e){return e.id!==t.id?e:t}));i(n),console.log(t)})).catch((function(e){return console.log(e)}))}}return o.a.useEffect((function(){(function(){return f.apply(this,arguments)})().then((function(e){var t=e.todos,n=void 0===t?[]:t;console.log(n),i(n)})).catch((function(e){console.log(e)}))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"flex flex-col bg-gray-200 justify-center p-20"},o.a.createElement("form",{className:"bg-white shadow-md rounded px-8 py-8 mb-4",onSubmit:function(e){(function(e){return h.apply(this,arguments)})(n).then((function(e){var t=e.newTodo;console.log(t),i([].concat(Object(s.a)(l),[t]))})).catch((function(e){console.log(e)})),e.preventDefault()}},o.a.createElement("div",{className:"mb-4"},o.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2"},"Todo"),o.a.createElement("textarea",{onChange:function(e){a(e.target.value)},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Todo"})),o.a.createElement("div",{className:"flex items-center justify-between"},o.a.createElement("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit"},"Ajouter"))),o.a.createElement("div",{className:"bg-white shadow-md rounded px-8 py-8 mb-4"},o.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2"},"Todos"),l.map((function(e,t){var n=e.id,a=e.text,r=e.done;return o.a.createElement("div",{key:"todo-"+t,className:"relative flex p-6 items-center flash-on-enter hover:bg-blue-100"},o.a.createElement("input",{className:"mr-2 leading-tight",type:"checkbox",onChange:p(n,r),checked:r}),o.a.createElement("span",{className:"text-gray-700 text-sm"+(r?" line-through":"")},a))})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,n){e.exports=n(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.f0ab5e5b.chunk.js.map